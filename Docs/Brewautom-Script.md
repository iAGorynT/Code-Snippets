## Script: Brewautom.sh
### Desc: Brew Autoupdate Status
Date: 06/11/2024

_Documentation_

This script is a Z shell (zsh) script that provides a menu-driven interface for managing Homebrew's autoupdate functionality on a macOS system. Let's break down its functionality step by step:

### Initial Setup

1. **Trap Ctrl-C**: 
   - The script sets a trap for the `INT` signal (generated by pressing Ctrl-C), preventing the script from being terminated by this signal and displaying a message instead.

   ```zsh
   trap 'echo -e  "\nCtrl-C will not terminate $0."'  INT
   ```

### Functions

2. **Function Definitions**:
   - The script defines several functions to handle different Homebrew autoupdate tasks:

   #### `autoupdatestatus`
   - Clears the screen.
   - Displays the current status of Homebrew autoupdate.
   - Checks for the existence of the Homebrew autoupdate log file and displays its contents with day headings separated by blank lines for readability.

   #### `autoupdatestart`
   - Clears the screen.
   - Starts Homebrew autoupdate with several options enabled, such as upgrading, greedy mode, cleanup, notifications, immediate start, and quiet mode.

   #### `autoupdatestop`
   - Clears the screen.
   - Prompts the user to confirm stopping the Homebrew autoupdate and stops it if confirmed.

   #### `autoupdatedelete`
   - Clears the screen.
   - Prompts the user to confirm deletion of the Homebrew autoupdate and deletes it if confirmed.

   #### `autoupdatehelp`
   - Clears the screen.
   - Displays the help information for Homebrew autoupdate.

   #### `autoupdatechglog`
   - Clears the screen.
   - Displays the changelog for Homebrew autoupdate.

3. **Menu Function**:
   - Defines a function `menu` that displays the main menu with options to select different actions.
   - Prompts the user to enter an option and captures their input.

   ```zsh
   function menu {
       clear
       echo
       echo -e "\t\t\tBrew Autoupdate Menu\n"
       echo -e "\t1. Autoupdate Status"
       echo -e "\t2. Start Autoupdate"
       echo -e "\t3. Stop Autoupdate"
       echo -e "\t4. Delete Autoupdate"
       echo -e "\t5. Autoupdate Help" 
       echo -e "\t6. Autoupdate Changelog" 
       echo -e "\t0. Exit Menu\n\n"
       echo -en "\t\tEnter an Option: "
       read -k 1 option
       if [[ "$option" == *$'\n'* ]]; then
           option=""
       fi
   }
   ```

### Main Loop

4. **Main Loop**:
   - The script enters an infinite loop that repeatedly displays the menu and executes the selected option using a `case` statement.
   - If the user selects option `0` or presses the Return/Enter key, the loop breaks, exiting the script.

   ```zsh
   while [ 1 ]
   do
       menu
       case $option in
       0)
       break ;;

       1)
       autoupdatestatus ;;

       2)
       autoupdatestart ;;

       3)
       autoupdatestop ;;

       4)
       autoupdatedelete ;;

       5)
       autoupdatehelp ;;

       6)
       autoupdatechglog ;;

       "")
       break ;;

       *)
       clear
       echo "Sorry, wrong selection";;
       esac
       echo -en "\n\n\t\t\tHit any key to continue"
       read -k 1 line
   done
   clear
   ```

### Resetting the Trap

5. **Reset Trap**: 
   - At the end of the script, the trap for the `INT` signal is reset to its default behavior.

   ```zsh
   trap INT
   ```

### Summary

- The script provides a menu-driven interface for managing Homebrew autoupdate.
- It includes options to start, stop, delete, view status, get help, and view the changelog of Homebrew autoupdate.
- It ensures user interaction for confirming critical actions like stopping and deleting the autoupdate.
- The script prevents accidental termination via Ctrl-C by trapping the `INT` signal.